name: test-all
on:
  push:
    branches-ignore:
      - 'dependabot/**' #avoid duplicates: only run the PR, not the commit
      - 'gh-pages' #github pages do not trigger all tests
    tags-ignore:
      - 'v*' #avoid rerun existing commit on release
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - run: |
          curl -L  -X POST  https://api.github.com/repos/giis-uniovi/test-jenkins-check/statuses/${{ github.sha }} \
              -H "Authorization: Bearer ${{ secrets.GITHUB_TOKEN }}" \
              -d "{\"state\":\"in_progress\", \"context\":\"Jenkins CI\"}"
        
      - name: Sleeping
        run: sleep 15
